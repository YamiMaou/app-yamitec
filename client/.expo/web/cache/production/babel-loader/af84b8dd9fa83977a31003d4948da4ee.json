{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _extends from\"@babel/runtime/helpers/extends\";import React from'react';import{connect}from'react-redux';import{bindActionCreators}from'redux';import{postAuth,JWT_Decode}from\"../../providers/api\";import{setDialog as authDialog,setAuth}from\"../../actions/authAction\";import{setLoading}from\"../../actions/appActions\";import{makeStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import CircularProgress from'@material-ui/core/CircularProgress';import TextField from'@material-ui/core/TextField';import Card from'@material-ui/core/Card';import CardActions from'@material-ui/core/CardActions';import CardContent from'@material-ui/core/CardContent';import Slide from'@material-ui/core/Slide';import logo from\"../../../assets/logo.png\";import InputMask from'react-input-mask';var useStyles=makeStyles(function(theme){return{root:{maxWidth:350,display:'flex',flexDirection:'column',margin:'auto'},appBar:{position:'relative'},title:{marginLeft:theme.spacing(2),flex:1},media:{height:140}};});var Transition=React.forwardRef(function Transition(props,ref){return React.createElement(Slide,_extends({direction:\"up\",ref:ref},props));});function FullScreenInvoiceDialog(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),loginError=_React$useState2[0],setLoginerror=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setloading=_React$useState4[1];var _React$useState5=React.useState({}),_React$useState6=_slicedToArray(_React$useState5,2),dados=_React$useState6[0],setDados=_React$useState6[1];var classes=useStyles();var handleClose=function handleClose(){props.authDialog(false);};var aDialog=props.aDialog;function onChange(e){var dt=dados;dt[e.target.id]=e.target.value;setDados(dt);}function onSubmit(e){var data;return _regeneratorRuntime.async(function onSubmit$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setloading(true);_context.next=4;return _regeneratorRuntime.awrap(postAuth(dados));case 4:data=_context.sent;if(data!==undefined){if(data.data.success){localStorage.setItem(\"user\",JSON.stringify(data.data.data.user));localStorage.setItem(\"token\",data.data.token);props.setAuth(data.data.data.user);setLoginerror(false);setloading(false);window.location.href=\"/\";}else{setLoginerror(true);setloading(false);}}case 6:case\"end\":return _context.stop();}}},null,null,null,Promise);}return React.createElement(\"div\",null,React.createElement(\"img\",{src:logo,style:{display:'flex',margin:'auto'},height:\"150\",width:\"150\"}),React.createElement(\"form\",{id:\"loginform\",onSubmit:onSubmit},React.createElement(Card,{className:classes.root},React.createElement(CardContent,null,React.createElement(\"div\",null,React.createElement(TextField,{error:loginError===true?true:false,helperText:loginError?\"E-mail ou senha inv√°lidos.\":\"\",type:\"text\",fullWidth:true,id:\"email\",type:\"text\",label:\"E-Mail\",variant:\"outlined\",onChange:onChange,onBlur:onChange})),React.createElement(\"br\",null),React.createElement(\"div\",null,React.createElement(TextField,{error:loginError===true?true:false,type:\"text\",fullWidth:true,id:\"password\",type:\"password\",label:\"Senha\",variant:\"outlined\",onChange:onChange,onBlur:onChange}))),React.createElement(CardActions,null,!loading?React.createElement(Button,{variant:\"contained\",size:\"large\",fullWidth:true,color:\"primary\",disableElevation:true,type:\"submit\",form:\"loginform\",style:{background:'linear-gradient(45deg, #025ea2 30%, #0086e8 90%)'}},\"Entrar\"):React.createElement(CircularProgress,{style:{margin:'auto'}})))));}var mapStateToProps=function mapStateToProps(store){return{aDialog:store.authReducer.authDialog,data:store.authReducer.data,loading:store.appReducer.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({setLoading:setLoading,authDialog:authDialog,setAuth:setAuth,JWT_Decode:JWT_Decode},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(FullScreenInvoiceDialog);","map":{"version":3,"sources":["C:/Users/Maou/Documents/Projetos/CLIENTES/RNF/Completo/client/src/pages/Login/index.js"],"names":["React","connect","bindActionCreators","postAuth","JWT_Decode","setDialog","authDialog","setAuth","setLoading","makeStyles","Button","CircularProgress","TextField","Card","CardActions","CardContent","Slide","logo","InputMask","useStyles","theme","root","maxWidth","display","flexDirection","margin","appBar","position","title","marginLeft","spacing","flex","media","height","Transition","forwardRef","props","ref","FullScreenInvoiceDialog","useState","loginError","setLoginerror","loading","setloading","dados","setDados","classes","handleClose","aDialog","onChange","e","dt","target","id","value","onSubmit","preventDefault","data","undefined","success","localStorage","setItem","JSON","stringify","user","token","window","location","href","background","mapStateToProps","store","authReducer","appReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { postAuth, JWT_Decode } from '../../providers/api'\r\nimport {setDialog as authDialog, setAuth} from '../../actions/authAction'\r\nimport {setLoading } from '../../actions/appActions'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport logo from '../../../assets/logo.png'\r\n\r\nimport InputMask from 'react-input-mask';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 350,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    margin: 'auto'\r\n  },\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction FullScreenInvoiceDialog(props) {\r\n  const [loginError, setLoginerror] = React.useState(false);\r\n  const [loading, setloading] = React.useState(false);\r\n  const [dados, setDados] = React.useState({});\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleClose = () => {\r\n    props.authDialog(false);\r\n  };\r\n\r\n  const { aDialog } = props;\r\n\r\n  function onChange(e) {\r\n    let dt = dados;\r\n    dt[e.target.id] = e.target.value\r\n    setDados(dt);\r\n  }\r\n  async function onSubmit(e) {\r\n    e.preventDefault();\r\n    setloading(true);\r\n    let data = await postAuth(dados);\r\n    if(data !== undefined) {\r\n      if(data.data.success){\r\n        localStorage.setItem(\"user\", JSON.stringify(data.data.data.user));\r\n        localStorage.setItem(\"token\", data.data.token);\r\n        props.setAuth(data.data.data.user);\r\n        setLoginerror(false);\r\n        setloading(false);\r\n        window.location.href=\"/\";\r\n      }else{\r\n        setLoginerror(true)\r\n        setloading(false);\r\n      }\r\n    }\r\n  }\r\n  //\r\n  return (\r\n    <div>\r\n      <img src={logo} style={{display: 'flex', margin: 'auto'}} height=\"150\" width=\"150\" />\r\n      <form id=\"loginform\" onSubmit={onSubmit}>\r\n        \r\n        <Card className={classes.root}>\r\n            <CardContent>\r\n              <div>\r\n              {/*<InputMask id=\"username\" label=\"Usu√°rio\" mask=\"999.999.999-99\" maskChar=\" \" onChange={onChange}>\r\n                {(inputProps) =>\r\n                  <TextField\r\n                  error={loginError === true ? true : false}\r\n                  helperText={ loginError ? \"Usu√°rio ou senha invalidos.\" : \"\"}\r\n                  fullWidth id=\"username\" label=\"Usu√°rio\" variant=\"outlined\" onChange={onChange} />\r\n                }\r\n              </InputMask> */}\r\n              <TextField\r\n                error={loginError === true ? true : false}\r\n                helperText={ loginError ? \"E-mail ou senha inv√°lidos.\" : \"\"}\r\n                type=\"text\"\r\n                fullWidth id=\"email\" type=\"text\" label=\"E-Mail\" variant=\"outlined\" \r\n                onChange={onChange}\r\n                onBlur={onChange} />\r\n              </div><br />\r\n              <div>\r\n              <TextField\r\n                error={loginError === true ? true : false}\r\n                //helperText={ loginError ? \"E-mail ou senha inv√°lidos.\" : \"\"}\r\n                type=\"text\"\r\n                fullWidth id=\"password\" type=\"password\" label=\"Senha\" variant=\"outlined\" \r\n                onChange={onChange}\r\n                onBlur={onChange} />\r\n              </div>\r\n            </CardContent>\r\n            \r\n         \r\n          <CardActions>\r\n            {!loading ? (\r\n            <Button variant=\"contained\" size=\"large\" fullWidth color=\"primary\" disableElevation type=\"submit\" form=\"loginform\"\r\n            style={{\r\n              background: 'linear-gradient(45deg, #025ea2 30%, #0086e8 90%)',\r\n            }}>\r\n              Entrar \r\n            </Button>\r\n            ) : (\r\n            <CircularProgress style={{margin: 'auto'}} />\r\n            )}\r\n            \r\n          </CardActions>\r\n          \r\n        </Card>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = store => ({\r\n  aDialog: store.authReducer.authDialog,\r\n  data: store.authReducer.data,\r\n  loading: store.appReducer.loading\r\n});\r\nconst mapDispatchToProps = dispatch =>\r\nbindActionCreators({ setLoading, authDialog, setAuth,JWT_Decode }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FullScreenInvoiceDialog)\r\n"]},"metadata":{},"sourceType":"module"}