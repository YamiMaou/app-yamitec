{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _extends from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component,Fragment,useState,useRef,useEffect}from'react';import{connect}from'react-redux';import{bindActionCreators}from'redux';import{withRouter}from'react-router-dom';import{setSnackbar}from\"../../actions/appActions\";import{makeStyles}from'@material-ui/core/styles';import Card from'@material-ui/core/Card';import CardActionArea from'@material-ui/core/CardActionArea';import CardActions from'@material-ui/core/CardActions';import CardContent from'@material-ui/core/CardContent';import CardMedia from'@material-ui/core/CardMedia';import Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import Snackbar from'@material-ui/core/Snackbar';import TextField from'@material-ui/core/TextField';import Input from'@material-ui/core/Input';import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import FormHelperText from'@material-ui/core/FormHelperText';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import IndeterminateCheckBoxIcon from'@material-ui/icons/IndeterminateCheckBox';import ptBR from\"date-fns/locale/pt-BR\";import Grid from'@material-ui/core/Grid';import DateFnsUtils from'@date-io/date-fns';import{MuiPickersUtilsProvider,KeyboardTimePicker,KeyboardDatePicker}from'@material-ui/pickers';import Icon from\"@expo/vector-icons/FontAwesome\";import MaskedInput from'react-text-mask';var idNumbers=['cpf','cnpj','cep'];function TextMaskCustom(props){var inputRef=props.inputRef,other=_objectWithoutProperties(props,[\"inputRef\"]);return React.createElement(MaskedInput,_extends({},other,{ref:function ref(_ref){inputRef(_ref?_ref.inputElement:null);},value:props.value,onChange:props.onChange,onBlur:props.onChange,mask:props.mask,placeholderChar:\"\\u2000\"}));}var FileInput=function FileInput(props){var _props$value;var _useState=useState((_props$value=props.value)!=null?_props$value:undefined),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];function handleChange(e){var _e$target=e.target,value=_e$target.value,id=_e$target.id;if(props.validate!==undefined){if(props.validate(value)){setError(false);}else{setError(true);}}props.onChange({target:{id:id,value:e.target.files[0],type:'file'}});setValue(e.target.value);}return React.createElement(FormControl,null,React.createElement(Button,{style:props.style,variant:\"outlined\",component:\"label\",endIcon:React.createElement(Icon,{name:\"arrow-circle-up\",size:18,color:\"#025ea2\"})},props.label,React.createElement(\"input\",{type:\"file\",hidden:true,onChange:handleChange,onBlur:handleChange,name:props.id,id:props.id})));};function TextInputCustom(props){var _props$value2,_props$required,_props$type,_props$helperText,_props$required2,_props$helperText2;var inputRef=props.inputRef,other=_objectWithoutProperties(props,[\"inputRef\"]);var _useState5=useState((_props$value2=props.value)!=null?_props$value2:\"\"),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];function handleChange(e){var id=e.target.id;var val=e.target.value;setValue(val);if(props.validate!==undefined){if(props.validate(val)!==false){setError(false);}else{setError(true);}}props.onChange(e);}if(props.mask===undefined)return React.createElement(TextField,{key:\"input-\"+props.id,size:\"small\",style:props.style,required:(_props$required=props.required)!=null?_props$required:false,error:error,type:(_props$type=props.type)!=null?_props$type:\"text\",value:value,helperText:error==true?(_props$helperText=props.helperText)!=null?_props$helperText:\"conteúdo inválido\":\"\",id:props.id,label:props.label,onChange:handleChange,onBlur:handleChange});else return React.createElement(FormControl,{key:\"input-\"+props.id,style:props.style},React.createElement(InputLabel,{htmlFor:props.id},props.label),React.createElement(Input,{required:(_props$required2=props.required)!=null?_props$required2:false,size:\"small\",key:\"input-\"+props.id,error:error,onChange:handleChange,onBlur:handleChange,name:props.name,value:value,id:props.id,\"aria-describedby\":\"component-error-text\",inputProps:{mask:props.mask},inputComponent:TextMaskCustom}),error==true?React.createElement(FormHelperText,{id:\"component-error-text\"},(_props$helperText2=props.helperText)!=null?_props$helperText2:\"conteúdo inválido\"):'');}var DateInput=function DateInput(props){var _props$required3,_props$label,_props$helperText3;var valueDate=new Date(props.value);var _useState9=useState(props.value?valueDate.setDate(valueDate.getDate()+1):new Date()),_useState10=_slicedToArray(_useState9,2),value=_useState10[0],setValue=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];function handleChange(value){try{var e={target:{id:props.id,value:\"\"+value.toJSON().split('T')[0]}};if(props.validate!==undefined){if(props.validate(value)){setError(false);}else{setError(true);}}props.onChange(e);}catch(err){console.log(err);}setValue(value);}return React.createElement(MuiPickersUtilsProvider,{utils:DateFnsUtils,locale:ptBR},React.createElement(Grid,{style:_objectSpread(_objectSpread({},props.style),{},{marginTop:18})},React.createElement(KeyboardDatePicker,{required:(_props$required3=props.required)!=null?_props$required3:false,margin:\"normal\",id:props.id,label:(_props$label=props.label)!=null?_props$label:'Data',error:error,helperText:props.error?(_props$helperText3=props.helperText)!=null?_props$helperText3:\"conteúdo inválido\":\"\",format:\"dd/MM/yyyy\",value:value,onChange:handleChange,onBlur:handleChange,KeyboardButtonProps:{'aria-label':'change date'}})));};var SelectInput=function SelectInput(props){var _props$value3;var _useState13=useState((_props$value3=props.value)!=null?_props$value3:props.values[0]),_useState14=_slicedToArray(_useState13,2),value=_useState14[0],setValue=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),error=_useState16[0],setError=_useState16[1];function handleChange(e){var _e$target2=e.target,value=_e$target2.value,id=_e$target2.id;if(props.validate!==undefined){if(props.validate(value)){setError(false);}else{setError(true);}}props.onChange(e);setValue(e.target.value);}return React.createElement(FormControl,{id:props.column,style:_objectSpread(_objectSpread({},props.style),{},{marginTop:'25px'})},React.createElement(InputLabel,{id:props.column},props.label),React.createElement(Select,{size:\"small\",labelId:props.id,id:props.id,name:props.name,value:value,error:error,onChange:handleChange,onBlur:handleChange},props.values.map(function(val,ind){return React.createElement(MenuItem,{key:\"input-\"+ind,value:val},val);})));};var LForms=function(_Component){_inherits(LForms,_Component);var _super=_createSuper(LForms);function LForms(){var _this;_classCallCheck(this,LForms);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:[],inputVal:{},filter:['flex']};return _this;}_createClass(LForms,[{key:\"componentDidMount\",value:function componentDidMount(){var inputValues={};var formValidate={};this.props.forms.map(function(form,ind){var ifjson={};form.fields.map(function(input,ind1){var _input$value,_form$json,_input$value2,_input$value3;ifjson[input.column]=(_input$value=input.value)!=null?_input$value:'';inputValues[(_form$json=form.json)!=null?_form$json:input.column]=form.json==undefined?(_input$value2=input.value)!=null?_input$value2:'':ifjson;formValidate[input.column]=(_input$value3=input.value)!=null?_input$value3:'';});});this.setState(_objectSpread(_objectSpread({},this.state),{},{inputVal:inputValues,formValidate:formValidate}));}},{key:\"render\",value:function render(){var _this2=this;var mainChange=function mainChange(e,params){var _e$target$id;var inputValues=_this2.state.inputVal;var formValidate=_this2.state.formValidate;var value=e.target.value;var id=(_e$target$id=e.target.id)!=null?_e$target$id:e.target.name;if(idNumbers.includes(e.target.id)){value=value.replace(/[^\\d]+/g,'');}if(e.target.type!==\"file\"&&(value.length==0||value==''||value=='Todos')){if(params.json===undefined){inputValues[id]='';}else{if(inputValues[params.json]==undefined){inputValues[params.json]={};}inputValues[params.json][id]='';}}else{if(id=='created_at'){value=\"\"+value.toJSON().split('T')[0];}if(idNumbers.includes(id)){value=value.replace(/[^\\d]+/g,'');}if(params.handle!==undefined){}if(params.json===undefined){inputValues[id]=value;}else{if(inputValues[params.json]==undefined){inputValues[params.json]={};}inputValues[params.json][id]=value;}}formValidate[id]=value;_this2.setState(_objectSpread(_objectSpread({},_this2.state),{},{inputVal:inputValues,formValidate:formValidate}));};var classes={m5:{margin:5,marginTop:25},root:{maxWidth:345,marginBottom:25},media:{height:140}};return React.createElement(\"div\",null,this.props.forms.map(function(form,ind){var _form$id,_form$flexFlow,_this2$state$filter$i;return React.createElement(\"div\",{key:\"card-\"+ind+\"-root\"},React.createElement(Card,{style:{marginBottom:15}},React.createElement(CardContent,null,React.createElement(Typography,{onClick:function onClick(){var filter=_this2.state.filter;filter[ind]=_this2.state.filter[ind]=='flex'?'none':'flex';_this2.setState(_objectSpread(_objectSpread({},_this2.state),{},{filter:filter}));}},React.createElement(IndeterminateCheckBoxIcon,null),\" \",form.title),React.createElement(\"div\",{key:\"block-\"+ind,id:\"data-form-\"+((_form$id=form.id)!=null?_form$id:'1'),style:{alignItems:'center',flexFlow:(_form$flexFlow=form.flexFlow)!=null?_form$flexFlow:'row wrap',justifyContent:'start',display:(_this2$state$filter$i=_this2.state.filter[ind])!=null?_this2$state$filter$i:'flex'}},form.fields.map(function(input,ind1){if(input.type==\"date\"){var _input$value4,_input$helperText,_input$grow;return React.createElement(DateInput,{value:(_input$value4=input.value)!=null?_input$value4:\"\",helperText:(_input$helperText=input.helperText)!=null?_input$helperText:\"\",key:\"input-\"+ind1,id:input.column,style:_objectSpread(_objectSpread(_objectSpread({},classes.m5),input.style),{},{flexGrow:(_input$grow=input.grow)!=null?_input$grow:0}),onChange:function onChange(e){var _input$handle,_form$json2,_input$validate;return mainChange(e,{handle:(_input$handle=input.handle)!=null?_input$handle:undefined,json:(_form$json2=form.json)!=null?_form$json2:undefined,validate:(_input$validate=input.validate)!=null?_input$validate:undefined});}});}else if(input.type==\"select\"){var _input$value5,_input$helperText2,_input$grow2;return React.createElement(SelectInput,{value:(_input$value5=input.value)!=null?_input$value5:\"\",helperText:(_input$helperText2=input.helperText)!=null?_input$helperText2:\"\",key:\"input-\"+ind1,id:input.column,label:input.label,name:input.column,values:input.values,style:_objectSpread(_objectSpread(_objectSpread({},classes.m5),input.style),{},{flexGrow:(_input$grow2=input.grow)!=null?_input$grow2:0}),onChange:function onChange(e){var _input$handle2,_form$json3,_input$validate2;return mainChange(e,{handle:(_input$handle2=input.handle)!=null?_input$handle2:undefined,json:(_form$json3=form.json)!=null?_form$json3:undefined,validate:(_input$validate2=input.validate)!=null?_input$validate2:undefined});}});}else if(input.type==\"file\"){var _input$grow3;return React.createElement(FileInput,{key:\"input-\"+ind1,style:_objectSpread(_objectSpread(_objectSpread({},classes.m5),input.style),{},{flexGrow:(_input$grow3=input.grow)!=null?_input$grow3:0,fontSize:'.6em'}),onChange:function onChange(e){var _input$handle3,_form$json4,_input$validate3;return mainChange(e,{handle:(_input$handle3=input.handle)!=null?_input$handle3:undefined,json:(_form$json4=form.json)!=null?_form$json4:undefined,validate:(_input$validate3=input.validate)!=null?_input$validate3:undefined});},onBlur:function onBlur(e){var _input$handle4,_form$json5,_input$validate4;return mainChange(e,{handle:(_input$handle4=input.handle)!=null?_input$handle4:undefined,json:(_form$json5=form.json)!=null?_form$json5:undefined,validate:(_input$validate4=input.validate)!=null?_input$validate4:undefined});},label:input.label,id:input.column});}else{var _input$grow4,_input$flexBasis,_input$mask,_input$helperText3;return React.createElement(TextInputCustom,{key:\"input-\"+ind1,id:input.column,type:input.type,value:input.value,style:_objectSpread(_objectSpread(_objectSpread({},classes.m5),input.style),{},{flexGrow:(_input$grow4=input.grow)!=null?_input$grow4:0,flexBasis:(_input$flexBasis=input.flexBasis)!=null?_input$flexBasis:'30%'}),id:input.column,label:input.label,mask:(_input$mask=input.mask)!=null?_input$mask:undefined,validate:input.validateHandler,helperText:(_input$helperText3=input.helperText)!=null?_input$helperText3:\"\",onChange:function onChange(e){var _input$handle5,_form$json6,_input$validate5;return mainChange(e,{handle:(_input$handle5=input.handle)!=null?_input$handle5:undefined,json:(_form$json6=form.json)!=null?_form$json6:undefined,validate:(_input$validate5=input.validate)!=null?_input$validate5:undefined});},onBlur:function onBlur(e){var _input$handle6,_form$json7,_input$validate6;return mainChange(e,{handle:(_input$handle6=input.handle)!=null?_input$handle6:undefined,json:(_form$json7=form.json)!=null?_form$json7:undefined,validate:(_input$validate6=input.validate)!=null?_input$validate6:undefined});}});}})))));}),React.createElement(Button,{size:\"small\",style:{margin:5},variant:\"contained\",color:\"primary\",onClick:function onClick(){if(_this2.props.validate===undefined){_this2.props.request(_this2.state.inputVal);}else{if(_this2.props.validate(_this2.state.formValidate)){_this2.props.request(_this2.state.inputVal);}}}},\" Salvar\"),React.createElement(Button,{size:\"small\",style:{margin:5},variant:\"contained\",color:\"primary\",onClick:function onClick(){_this2.props.history.goBack();}},\" Cancelar\"));}}]);return LForms;}(Component);var mapStateToProps=function mapStateToProps(store){return{snackbar:store.appReducer.snackbar};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({setSnackbar:setSnackbar},dispatch);};export default withRouter(connect(mapStateToProps,mapDispatchToProps)(LForms));","map":{"version":3,"sources":["C:/Users/Maou/Documents/Projetos/CLIENTES/RNF/Completo/client/src/components/Forms/index.js"],"names":["React","Component","Fragment","useState","useRef","useEffect","connect","bindActionCreators","withRouter","setSnackbar","makeStyles","Card","CardActionArea","CardActions","CardContent","CardMedia","Button","Typography","Snackbar","TextField","Input","InputLabel","MenuItem","FormHelperText","FormControl","Select","IndeterminateCheckBoxIcon","ptBR","Grid","DateFnsUtils","MuiPickersUtilsProvider","KeyboardTimePicker","KeyboardDatePicker","Icon","MaskedInput","idNumbers","TextMaskCustom","props","inputRef","other","ref","inputElement","value","onChange","mask","FileInput","undefined","setValue","error","setError","handleChange","e","target","id","validate","files","type","style","label","TextInputCustom","val","required","helperText","name","DateInput","valueDate","Date","setDate","getDate","toJSON","split","err","console","log","marginTop","SelectInput","values","column","map","ind","LForms","state","data","inputVal","filter","inputValues","formValidate","forms","form","ifjson","fields","input","ind1","json","setState","mainChange","params","includes","replace","length","handle","classes","m5","margin","root","maxWidth","marginBottom","media","height","title","alignItems","flexFlow","justifyContent","display","flexGrow","grow","fontSize","flexBasis","validateHandler","request","history","goBack","mapStateToProps","store","snackbar","appReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component, Fragment, useState, useRef, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { withRouter } from 'react-router-dom'\r\n//\r\n//\r\nimport { setSnackbar } from '../../actions/appActions'\r\n//const classes = useStyles();\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n//\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\n\r\nimport ptBR from \"date-fns/locale/pt-BR\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n    MuiPickersUtilsProvider,\r\n    KeyboardTimePicker,\r\n    KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport Icon from 'react-native-vector-icons/FontAwesome';\r\nimport MaskedInput from 'react-text-mask';\r\nconst idNumbers = [\r\n    'cpf', 'cnpj', 'cep'\r\n];\r\n\r\n// MASKED INPUTS \r\n\r\nfunction TextMaskCustom(props) {\r\n    const { inputRef, ...other } = props;\r\n\r\n    return (\r\n        <MaskedInput\r\n            {...other}\r\n            ref={(ref) => {\r\n                inputRef(ref ? ref.inputElement : null);\r\n            }}\r\n            value={props.value}\r\n            onChange={props.onChange}\r\n            onBlur={props.onChange}\r\n            mask={props.mask}\r\n            placeholderChar={'\\u2000'}\r\n\r\n        />\r\n    );\r\n}\r\n\r\n// File Input\r\nconst FileInput = (props) => {\r\n    const [value, setValue] = useState(props.value ?? undefined);\r\n    const [error, setError] = useState(false);\r\n    function handleChange(e) {\r\n        const { value, id } = e.target;\r\n        if (props.validate !== undefined) {\r\n            if (props.validate(value)) {\r\n                setError(false);\r\n            } else {\r\n                setError(true)\r\n            }\r\n        }\r\n        \r\n        props.onChange({target: {id, value: e.target.files[0], type: 'file'}})\r\n        setValue(e.target.value);\r\n    }\r\n    return (\r\n        <FormControl>\r\n            <Button style={props.style} variant=\"outlined\" component=\"label\" endIcon={<Icon name=\"arrow-circle-up\" size={18} color=\"#025ea2\" />}>\r\n                {props.label}\r\n                <input type=\"file\" hidden\r\n                    onChange={handleChange}\r\n                    onBlur={handleChange}\r\n                    name={props.id}\r\n                    id={props.id}\r\n                />\r\n            </Button>\r\n        </FormControl>)\r\n}\r\n//\r\nfunction TextInputCustom(props) {\r\n    const { inputRef, ...other } = props;\r\n\r\n    const [value, setValue] = useState(props.value ?? \"\");\r\n    const [error, setError] = useState(false);\r\n\r\n    function handleChange(e) {\r\n        const { id } = e.target;\r\n        let val = e.target.value;\r\n        setValue(val);\r\n        if (props.validate !== undefined) {\r\n            if (props.validate(val) !== false) {\r\n                setError(false);\r\n            } else {\r\n                setError(true)\r\n            }\r\n        }\r\n        props.onChange(e)\r\n\r\n    }\r\n    //console.log(value);\r\n    if (props.mask === undefined)\r\n        return (\r\n            <TextField key={`input-${props.id}`} size=\"small\" style={props.style}\r\n                required={props.required ?? false}\r\n                error={error}\r\n                type={props.type ?? \"text\"}\r\n                value={value}\r\n                helperText={error == true ? props.helperText ?? \"conteúdo inválido\" : \"\"}\r\n                id={props.id} label={props.label}\r\n                onChange={handleChange}\r\n                onBlur={handleChange}\r\n            />\r\n        )\r\n    else\r\n        return (\r\n            <FormControl key={`input-${props.id}`} style={props.style} >\r\n                <InputLabel htmlFor={props.id}>{props.label}</InputLabel>\r\n                <Input\r\n                    required={props.required ?? false}\r\n                    size=\"small\"\r\n                    key={`input-${props.id}`}\r\n                    error={error}\r\n                    onChange={handleChange}\r\n                    onBlur={handleChange}\r\n                    name={props.name}\r\n                    value={value}\r\n                    id={props.id}\r\n                    aria-describedby=\"component-error-text\"\r\n                    inputProps={{\r\n                        mask: props.mask,\r\n                    }}\r\n                    inputComponent={TextMaskCustom}\r\n                />\r\n                {error == true ? (\r\n                    <FormHelperText id=\"component-error-text\">{props.helperText ?? \"conteúdo inválido\"}</FormHelperText>\r\n                ) : ('')}\r\n            </FormControl>)\r\n}\r\n//\r\nconst DateInput = (props) => {\r\n    let valueDate = new Date(props.value)\r\n    const [value, setValue] = useState(props.value ? valueDate.setDate(valueDate.getDate() + 1) : new Date());\r\n    const [error, setError] = useState(false);\r\n    function handleChange(value) {\r\n        try {\r\n            let e = { target: { id: props.id, value: `${value.toJSON().split('T')[0]}` } }\r\n            if (props.validate !== undefined) {\r\n                if (props.validate(value)) {\r\n                    setError(false);\r\n                } else {\r\n                    setError(true)\r\n                }\r\n            }\r\n            props.onChange(e)\r\n\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n        //props.onChange(value);\r\n        setValue(value);\r\n    }\r\n\r\n    return (<MuiPickersUtilsProvider utils={DateFnsUtils} locale={ptBR}>\r\n        <Grid style={{ ...props.style, marginTop: 18 }}>\r\n            <KeyboardDatePicker\r\n                required={props.required ?? false}\r\n                margin=\"normal\"\r\n                id={props.id}\r\n                label={props.label ?? 'Data'}\r\n                error={error}\r\n                helperText={props.error ? props.helperText ?? \"conteúdo inválido\" : \"\"}\r\n                format=\"dd/MM/yyyy\"\r\n                value={value}\r\n                onChange={handleChange}\r\n                onBlur={handleChange}\r\n                KeyboardButtonProps={{\r\n                    'aria-label': 'change date',\r\n                }}\r\n            />\r\n        </Grid>\r\n    </MuiPickersUtilsProvider>)\r\n}\r\n//\r\n\r\nconst SelectInput = (props) => {\r\n    const [value, setValue] = useState(props.value ?? props.values[0]);\r\n    const [error, setError] = useState(false);\r\n    function handleChange(e) {\r\n        const { value, id } = e.target;\r\n        if (props.validate !== undefined) {\r\n            if (props.validate(value)) {\r\n                setError(false);\r\n            } else {\r\n                setError(true)\r\n            }\r\n        }\r\n        props.onChange(e)\r\n        setValue(e.target.value);\r\n    }\r\n    return (\r\n        <FormControl id={props.column} style={{ ...props.style, marginTop: '25px' }}>\r\n            <InputLabel id={props.column}>{props.label}</InputLabel>\r\n            <Select size=\"small\"\r\n                labelId={props.id}\r\n                id={props.id}\r\n                name={props.name}\r\n                value={value}\r\n                error={error}\r\n                //helperText={props.error ? props.helperText ?? \"conteúdo inválido\" : \"\"}\r\n                onChange={handleChange}\r\n                onBlur={handleChange}\r\n            >\r\n                {\r\n                    props.values.map((val, ind) => {\r\n                        return <MenuItem key={`input-${ind}`} value={val}>{val}</MenuItem>\r\n                    })\r\n                }\r\n\r\n            </Select>\r\n        </FormControl>)\r\n}\r\nclass LForms extends Component {\r\n    state = {\r\n        data: [],\r\n        inputVal: {},\r\n        filter: ['flex']\r\n    }\r\n    componentDidMount() {\r\n        let inputValues = {};\r\n        let formValidate = {};\r\n        this.props.forms.map((form, ind) => {\r\n            let ifjson = {};\r\n            form.fields.map((input, ind1) => {\r\n                ifjson[input.column] = input.value ?? '';\r\n                inputValues[form.json ?? input.column] = form.json == undefined ? input.value ?? '' : ifjson;\r\n                formValidate[input.column] = input.value ?? '';\r\n            });\r\n        });\r\n        this.setState({ ...this.state, inputVal: inputValues, formValidate });\r\n\r\n        //console.log(this.state)\r\n    }\r\n\r\n\r\n    render() {\r\n        const mainChange = (e, params) => {\r\n            let inputValues = this.state.inputVal;\r\n            let formValidate = this.state.formValidate;\r\n            let value = e.target.value;\r\n            let id = e.target.id ?? e.target.name;\r\n\r\n            if (idNumbers.includes(e.target.id)) {\r\n                value = value.replace(/[^\\d]+/g, '');\r\n            }\r\n\r\n            if (e.target.type !== \"file\" && (value.length == 0 || value == '' || value == 'Todos')) {\r\n                if (params.json === undefined) {\r\n                    inputValues[id] = ''\r\n                } else {\r\n                    if (inputValues[params.json] == undefined) {\r\n                        inputValues[params.json] = {};\r\n                    }\r\n                    inputValues[params.json][id] = '';\r\n                }\r\n            } else {\r\n                if (id == 'created_at') {\r\n                    value = `${value.toJSON().split('T')[0]}`\r\n                }\r\n\r\n                if (idNumbers.includes(id)) {\r\n                    value = value.replace(/[^\\d]+/g, '');\r\n                }\r\n                if (params.handle !== undefined) {\r\n                    //let request = await params.handle(value)\r\n                    //value = request[id] ?? '';\r\n                }\r\n\r\n\r\n                if (params.json === undefined) {\r\n                    inputValues[id] = value\r\n                } else {\r\n                    if (inputValues[params.json] == undefined) {\r\n                        inputValues[params.json] = {};\r\n                    }\r\n                    inputValues[params.json][id] = value;\r\n                }\r\n            }\r\n            formValidate[id] = value;\r\n            this.setState({ ...this.state, inputVal: inputValues, formValidate });\r\n            //console.log(this.state.inputVal);\r\n        }\r\n\r\n        const classes = {\r\n            m5: {\r\n                margin: 5,\r\n                marginTop: 25,\r\n                //flexBasis: '30%'\r\n\r\n            },\r\n            root: {\r\n                maxWidth: 345,\r\n                marginBottom: 25\r\n            },\r\n            media: {\r\n                height: 140,\r\n            },\r\n        }\r\n        return (\r\n            <div>\r\n                {\r\n                    this.props.forms.map((form, ind) => {\r\n                        return (\r\n                            <div key={`card-${ind}-root`}>\r\n                                <Card style={{ marginBottom: 15 }}>\r\n                                    <CardContent>\r\n                                        <Typography onClick={() => {\r\n                                            let filter = this.state.filter;\r\n                                            filter[ind] = this.state.filter[ind] == 'flex' ? 'none' : 'flex'\r\n                                            this.setState({ ...this.state, filter })\r\n                                        }}>\r\n                                            <IndeterminateCheckBoxIcon /> {form.title}\r\n                                        </Typography>\r\n\r\n                                        <div key={`block-${ind}`} id={`data-form-${form.id ?? '1'}`} style={{\r\n                                            alignItems: 'center',\r\n                                            flexFlow: form.flexFlow ?? 'row wrap',\r\n                                            justifyContent: 'start',\r\n                                            display: this.state.filter[ind] ?? 'flex',\r\n                                        }}>\r\n                                            {\r\n\r\n                                                form.fields.map((input, ind1) => {\r\n                                                    if (input.type == \"date\") {\r\n                                                        return <DateInput value={input.value ?? \"\"} helperText={input.helperText ?? \"\"} key={`input-${ind1}`} id={input.column} style={{ ...classes.m5, ...input.style, flexGrow: input.grow ?? 0 }} onChange={(e) => mainChange(e, { handle: input.handle ?? undefined, json: form.json ?? undefined, validate: input.validate ?? undefined })} />\r\n                                                    } else if (input.type == \"select\") {\r\n                                                        return (<SelectInput value={input.value ?? \"\"} helperText={input.helperText ?? \"\"} key={`input-${ind1}`} id={input.column} label={input.label} name={input.column} values={input.values} style={{ ...classes.m5, ...input.style, flexGrow: input.grow ?? 0 }} onChange={(e) => mainChange(e, { handle: input.handle ?? undefined, json: form.json ?? undefined, validate: input.validate ?? undefined })} />)\r\n                                                    } else if (input.type == \"file\") {\r\n                                                        return (\r\n                                                            <FileInput key={`input-${ind1}`}\r\n                                                                style={{ ...classes.m5, ...input.style, flexGrow: input.grow ?? 0, fontSize: '.6em' }}\r\n                                                                onChange={(e) => mainChange(e, { handle: input.handle ?? undefined, json: form.json ?? undefined, validate: input.validate ?? undefined })}\r\n                                                                onBlur={(e) => mainChange(e, { handle: input.handle ?? undefined, json: form.json ?? undefined, validate: input.validate ?? undefined })}\r\n                                                                label={input.label}\r\n                                                                id={input.column}\r\n                                                            />\r\n                                                        )\r\n                                                    } else {\r\n                                                        return <TextInputCustom key={`input-${ind1}`}\r\n                                                            id={input.column}\r\n                                                            type={input.type}\r\n                                                            value={input.value}\r\n                                                            style={{ ...classes.m5, ...input.style, flexGrow: input.grow ?? 0, flexBasis: input.flexBasis ?? '30%' }}\r\n                                                            id={input.column} label={input.label}\r\n                                                            mask={input.mask ?? undefined}\r\n                                                            validate={input.validateHandler}\r\n                                                            helperText={input.helperText ?? \"\"}\r\n                                                            onChange={(e) => mainChange(e, { handle: input.handle ?? undefined, json: form.json ?? undefined, validate: input.validate ?? undefined })}\r\n                                                            onBlur={(e) => mainChange(e, { handle: input.handle ?? undefined, json: form.json ?? undefined, validate: input.validate ?? undefined })} />\r\n                                                    }\r\n                                                })\r\n                                            }\r\n                                        </div>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </div>\r\n                        )\r\n                    })\r\n\r\n                }\r\n                <Button size=\"small\" style={{ margin: 5 }} variant=\"contained\" color=\"primary\" onClick={() => {\r\n                    if (this.props.validate === undefined) {\r\n                        this.props.request(this.state.inputVal);\r\n                    } else {\r\n                        if (this.props.validate(this.state.formValidate)) {\r\n                            this.props.request(this.state.inputVal);\r\n                            //console.log(this.state)\r\n                        }\r\n                    }\r\n                }}> Salvar</Button>\r\n                <Button size=\"small\" style={{ margin: 5 }} variant=\"contained\" color=\"primary\" onClick={() => { this.props.history.goBack(); }} > Cancelar</Button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = store => ({\r\n    snackbar: store.appReducer.snackbar\r\n});\r\nconst mapDispatchToProps = dispatch =>\r\n    bindActionCreators({ setSnackbar }, dispatch);\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LForms))\r\n"]},"metadata":{},"sourceType":"module"}