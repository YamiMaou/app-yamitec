{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Maou\\\\Documents\\\\Projetos\\\\CLIENTES\\\\RNF\\\\Completo\\\\client\\\\src\\\\pages\\\\Home\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { Bar } from 'react-chartjs-2';\nimport { setSnackbar, setTimer } from \"../../actions/appActions\";\nimport { getApiRanking } from \"../../providers/api\";\n\nvar Home = function (_Component) {\n  _inherits(Home, _Component);\n\n  var _super = _createSuper(Home);\n\n  function Home() {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      item: undefined,\n      ranking: [0, 0, 0, 0, 0, 0]\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var ranking;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(JSON.parse(localStorage.getItem(\"user\")) == null)) {\n                _context.next = 3;\n                break;\n              }\n\n              window.location.href = '/login';\n              return _context.abrupt(\"return\");\n\n            case 3:\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(getApiRanking());\n\n            case 5:\n              ranking = _context.sent;\n              if (ranking !== undefined) this.setState(_objectSpread(_objectSpread({}, this.state), {}, {\n                ranking: [ranking.client, ranking.provider, ranking.manager, ranking.contributor]\n              }));\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"dialogHandler\",\n    value: function dialogHandler(item) {\n      this.props.setDialog(true);\n      this.setState(_objectSpread(_objectSpread({}, this.state), {}, {\n        item: item\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var authData = JSON.parse(localStorage.getItem(\"user\"));\n\n      if (JSON.parse(localStorage.getItem(\"user\")) == null) {\n        window.location.href = '/login';\n        return React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 20\n          }\n        }, \" Sess\\xE3o Encerrada.\");\n      }\n\n      var data = {\n        labels: ['Clientes', 'Farmácia', 'Responsáveis', 'Colaboradores', 'Outros'],\n        datasets: [{\n          label: '# Ranking',\n          data: [12, 50, 3, 5, 2, 3],\n          backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)'],\n          borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],\n          borderWidth: 1\n        }]\n      };\n      var options = {\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true\n            }\n          }]\n        }\n      };\n      var classes = {\n        root: {\n          maxWidth: 345\n        },\n        media: {\n          height: 140\n        }\n      };\n      return React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }, React.createElement(Card, {\n        className: classes.root,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }\n      }, React.createElement(CardMedia, {\n        className: classes.media,\n        image: \"/static/images/cards/contemplative-reptile.jpg\",\n        title: \"Contemplative Reptile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }\n      }), React.createElement(CardContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, React.createElement(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }\n      }, \"Bem Vindo \", React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 35\n        }\n      }, authData.name)), React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, \"Resumo de Lan\\xE7amentos Ger. de contas:\"), React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }, React.createElement(Bar, {\n        width: window.innerWidth > 720 ? 100 : 50,\n        height: window.innerWidth > 720 ? 35 : 35,\n        data: data,\n        options: options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }\n      }))), React.createElement(CardActionArea, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }\n      }), React.createElement(CardActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      })));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    session: store.authReducer.data\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    setSnackbar: setSnackbar,\n    setTimer: setTimer\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["C:/Users/Maou/Documents/Projetos/CLIENTES/RNF/Completo/client/src/pages/Home/index.js"],"names":["React","Component","Fragment","connect","bindActionCreators","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","Bar","setSnackbar","setTimer","getApiRanking","Home","state","item","undefined","ranking","JSON","parse","localStorage","getItem","window","location","href","setState","client","provider","manager","contributor","props","setDialog","authData","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","scales","yAxes","ticks","beginAtZero","classes","root","maxWidth","media","height","name","innerWidth","mapStateToProps","store","session","authReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n//\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Bar } from 'react-chartjs-2';\r\n//\r\n\r\nimport { setSnackbar, setTimer} from '../../actions/appActions'\r\nimport { getApiRanking } from '../../providers/api';\r\nclass Home extends Component {\r\n    state = {\r\n        item: undefined,\r\n        ranking: [0, 0, 0, 0, 0, 0]\r\n    }\r\n\r\n    async componentDidMount() {\r\n        if(JSON.parse(localStorage.getItem(\"user\")) == null){\r\n            window.location.href = '/login';\r\n            return;\r\n        }\r\n        const ranking = await getApiRanking();\r\n        if(ranking !== undefined)\r\n            this.setState({...this.state,  ranking: [ranking.client, ranking.provider, ranking.manager, ranking.contributor]});\r\n    }\r\n\r\n    dialogHandler(item) {\r\n        this.props.setDialog(true)\r\n        this.setState({ ...this.state, item });\r\n    }\r\n\r\n    render() {\r\n        const authData = JSON.parse(localStorage.getItem(\"user\"));\r\n        if(JSON.parse(localStorage.getItem(\"user\")) == null){\r\n            window.location.href = '/login';\r\n            return <div> Sessão Encerrada.</div>;\r\n        }\r\n        const data = {\r\n            labels: ['Clientes', 'Farmácia', 'Responsáveis', 'Colaboradores','Outros'],\r\n            datasets: [\r\n              {\r\n                label: '# Ranking',\r\n                data: [12, 50, 3, 5, 2, 3],\r\n                backgroundColor: [\r\n                  'rgba(255, 99, 132, 0.2)',\r\n                  'rgba(54, 162, 235, 0.2)',\r\n                  'rgba(255, 206, 86, 0.2)',\r\n                  'rgba(75, 192, 192, 0.2)',\r\n                  'rgba(153, 102, 255, 0.2)',\r\n                ],\r\n                borderColor: [\r\n                  'rgba(255, 99, 132, 1)',\r\n                  'rgba(54, 162, 235, 1)',\r\n                  'rgba(255, 206, 86, 1)',\r\n                  'rgba(75, 192, 192, 1)',\r\n                  'rgba(153, 102, 255, 1)',\r\n                ],\r\n                borderWidth: 1,\r\n              },\r\n            ],\r\n          };\r\n          \r\n          const options = {\r\n            scales: {\r\n              yAxes: [\r\n                {\r\n                  ticks: {\r\n                    beginAtZero: true,\r\n                  },\r\n                },\r\n              ],\r\n            },\r\n          };\r\n        const classes = {\r\n            root: {\r\n                maxWidth: 345,\r\n              },\r\n              media: {\r\n                height: 140,\r\n              },\r\n        }\r\n        return (\r\n            <Fragment>\r\n              <Card className={classes.root}>\r\n                    <CardMedia\r\n                    className={classes.media}\r\n                    image=\"/static/images/cards/contemplative-reptile.jpg\"\r\n                    title=\"Contemplative Reptile\"\r\n                    />\r\n                    <CardContent>\r\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        Bem Vindo <b>{authData.name}</b>\r\n                    </Typography>\r\n                    \r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        Resumo de Lançamentos Ger. de contas:\r\n                    </Typography>\r\n                    <div>\r\n                    <Bar width={window.innerWidth > 720 ? 100 : 50} height={window.innerWidth > 720 ? 35 : 35} data={data} options={options} />\r\n                    </div>\r\n                    </CardContent>\r\n                    <CardActionArea>\r\n                    </CardActionArea>\r\n                <CardActions>\r\n                    \r\n                </CardActions>\r\n                </Card>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = store => ({\r\n    session: store.authReducer.data,\r\n});\r\nconst mapDispatchToProps = dispatch =>\r\n    bindActionCreators({ setSnackbar, setTimer }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\r\n"]},"metadata":{},"sourceType":"module"}