{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nvar _jsxFileName = \"/home/maouyami/Documentos/Projetos/Nodejs/DELIVERY/client/mobile/src/components/Layout/Dialogs/FullScreenLoginDialog.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { getInvoices, postAuth, JWT_Decode } from \"../../../providers/api\";\nimport { setInvoices } from \"../../../actions/invoiceAction\";\nimport { setDialog as authDialog, setAuth } from \"../../../actions/authAction\";\nimport { setLoading } from \"../../../actions/appActions\";\nimport { StyledAppBar } from \"../../Layout/Header/style\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport InputMask from 'react-input-mask';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      marginTop: 84\n    },\n    appBar: {\n      position: 'relative'\n    },\n    title: {\n      marginLeft: theme.spacing(2),\n      flex: 1\n    },\n    media: {\n      height: 140\n    }\n  };\n});\nvar Transition = React.forwardRef(function Transition(props, ref) {\n  return React.createElement(Slide, _extends({\n    direction: \"up\",\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 10\n    }\n  }));\n});\n\nfunction FullScreenInvoiceDialog(props) {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      loginError = _React$useState2[0],\n      setLoginerror = _React$useState2[1];\n\n  var classes = useStyles();\n\n  var handleClose = function handleClose() {\n    props.authDialog(false);\n  };\n\n  var aDialog = props.aDialog;\n  var dados = {};\n\n  function onChange(e) {\n    dados[e.target.id] = e.target.value;\n    console.log(dados);\n  }\n\n  function onSubmit(e) {\n    var data, userData, invoices;\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            setLoading(true);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(postAuth(dados));\n\n          case 4:\n            data = _context.sent;\n            console.log(data);\n\n            if (!(data !== undefined)) {\n              _context.next = 21;\n              break;\n            }\n\n            if (!data.data.success) {\n              _context.next = 20;\n              break;\n            }\n\n            userData = JWT_Decode(data.data.token);\n            localStorage.setItem(\"user\", JSON.stringify(userData.payload));\n            localStorage.setItem(\"token\", data.data.token);\n            props.setAuth(userData.payload);\n            _context.next = 14;\n            return _regeneratorRuntime.awrap(getInvoices());\n\n          case 14:\n            invoices = _context.sent;\n            props.setInvoices(invoices.data);\n            handleClose();\n            setLoginerror(false);\n            _context.next = 21;\n            break;\n\n          case 20:\n            setLoginerror(true);\n\n          case 21:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, React.createElement(\"form\", {\n    id: \"loginform\",\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, React.createElement(Dialog, {\n    fullScreen: true,\n    open: aDialog,\n    onClose: function onClose() {\n      return handleClose();\n    },\n    TransitionComponent: Transition,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, React.createElement(StyledAppBar, {\n    position: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, React.createElement(IconButton, {\n    edge: \"start\",\n    color: \"inherit\",\n    onClick: function onClick() {\n      return handleClose();\n    },\n    \"aria-label\": \"close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, React.createElement(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  })), React.createElement(Typography, {\n    variant: \"h6\",\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Entrar\"))), React.createElement(Card, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, React.createElement(CardActionArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, React.createElement(TextField, {\n    error: loginError === true ? true : false,\n    helperText: loginError ? \"Usuário ou senha invalidos.\" : \"\",\n    type: \"text\",\n    fullWidth: true,\n    id: \"username\",\n    type: \"tex\",\n    label: \"Usu\\xE1rio\",\n    variant: \"outlined\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  })), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }), React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, React.createElement(TextField, {\n    error: loginError === true ? true : false,\n    helperText: loginError ? \"CPF ou senha invalidos.\" : \"\",\n    type: \"text\",\n    fullWidth: true,\n    id: \"password\",\n    type: \"password\",\n    label: \"Senha\",\n    variant: \"outlined\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  })))), React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    size: \"big\",\n    fullWidth: true,\n    color: \"primary\",\n    disableElevation: true,\n    type: \"submit\",\n    form: \"loginform\",\n    style: {\n      position: 'fixed',\n      bottom: 0,\n      left: 0,\n      background: 'linear-gradient(45deg, #025ea2 30%, #0086e8 90%)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, \"Entrar\"))))));\n}\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    aDialog: store.authReducer.authDialog,\n    data: store.authReducer.data\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    setInvoices: setInvoices,\n    setLoading: setLoading,\n    authDialog: authDialog,\n    setAuth: setAuth,\n    JWT_Decode: JWT_Decode\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FullScreenInvoiceDialog);","map":{"version":3,"sources":["/home/maouyami/Documentos/Projetos/Nodejs/DELIVERY/client/mobile/src/components/Layout/Dialogs/FullScreenLoginDialog.js"],"names":["React","useState","useEffect","connect","bindActionCreators","getInvoices","postAuth","JWT_Decode","setInvoices","setDialog","authDialog","setAuth","setLoading","StyledAppBar","makeStyles","Button","Dialog","TextField","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","Toolbar","IconButton","CloseIcon","Slide","InputMask","useStyles","theme","root","marginTop","appBar","position","title","marginLeft","spacing","flex","media","height","Transition","forwardRef","props","ref","FullScreenInvoiceDialog","loginError","setLoginerror","classes","handleClose","aDialog","dados","onChange","e","target","id","value","console","log","onSubmit","preventDefault","data","undefined","success","userData","token","localStorage","setItem","JSON","stringify","payload","invoices","bottom","left","background","mapStateToProps","store","authReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport { getInvoices, postAuth, JWT_Decode } from '../../../providers/api'\nimport {setInvoices } from '../../../actions/invoiceAction'\nimport {setDialog as authDialog, setAuth} from '../../../actions/authAction'\nimport {setLoading } from '../../../actions/appActions'\nimport { StyledAppBar } from '../../Layout/Header/style'\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\n\nimport InputMask from 'react-input-mask';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop:84,\n  },\n  appBar: {\n    position: 'relative',\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  media: {\n    height: 140,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction FullScreenInvoiceDialog(props) {\n  const [loginError, setLoginerror] = React.useState(false);\n  const classes = useStyles();\n\n  const handleClose = () => {\n    props.authDialog(false);\n  };\n\n  const { aDialog } = props;\n\n  //\n  let dados = {};\n  function onChange(e) {\n    dados[e.target.id] = e.target.value\n    console.log(dados);\n    //props.setAuth(dados);\n    //props.setLoading(false);\n  }\n  async function onSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    let data = await postAuth(dados);\n    console.log(data);\n    if(data !== undefined) {\n      if(data.data.success){\n        let userData= JWT_Decode(data.data.token);\n        localStorage.setItem(\"user\", JSON.stringify(userData.payload));\n        localStorage.setItem(\"token\", data.data.token);\n        props.setAuth(userData.payload);\n        let invoices = await getInvoices();\n        props.setInvoices(invoices.data);\n        handleClose();\n        setLoginerror(false);\n      }else{\n        setLoginerror(true)\n      }\n    }\n  }\n  //\n  return (\n    <div>\n      <form id=\"loginform\" onSubmit={onSubmit}>\n      <Dialog fullScreen open={aDialog} onClose={() => handleClose()} TransitionComponent={Transition}>\n        <StyledAppBar position=\"fixed\">\n          <Toolbar>\n            <IconButton edge=\"start\" color=\"inherit\" onClick={() => handleClose()} aria-label=\"close\">\n              <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              Entrar\n            </Typography>\n          </Toolbar>\n        </StyledAppBar>\n        <Card className={classes.root}>\n          <CardActionArea>\n            <CardContent>\n              <div>\n              {/*<InputMask id=\"username\" label=\"Usuário\" mask=\"999.999.999-99\" maskChar=\" \" onChange={onChange}>\n                {(inputProps) =>\n                  <TextField\n                  error={loginError === true ? true : false}\n                  helperText={ loginError ? \"Usuário ou senha invalidos.\" : \"\"}\n                  fullWidth id=\"username\" label=\"Usuário\" variant=\"outlined\" onChange={onChange} />\n                }\n              </InputMask> */}\n              <TextField\n                error={loginError === true ? true : false}\n                helperText={ loginError ? \"Usuário ou senha invalidos.\" : \"\"}\n                type=\"text\"\n                fullWidth id=\"username\" type=\"tex\" label=\"Usuário\" variant=\"outlined\" onChange={onChange} />\n\n              </div><br />\n              <div>\n              <TextField\n                error={loginError === true ? true : false}\n                helperText={ loginError ? \"CPF ou senha invalidos.\" : \"\"}\n                type=\"text\"\n                fullWidth id=\"password\" type=\"password\" label=\"Senha\" variant=\"outlined\" onChange={onChange} />\n              </div>\n            </CardContent>\n          </CardActionArea>\n          <CardActions>\n            <Button variant=\"contained\" size=\"big\" fullWidth color=\"primary\" disableElevation type=\"submit\" form=\"loginform\"\n            style={{\n              position: 'fixed',\n              bottom: 0, left: 0,\n              background: 'linear-gradient(45deg, #025ea2 30%, #0086e8 90%)',\n            }}>\n              Entrar\n            </Button>\n          </CardActions>\n        </Card>\n      </Dialog>\n      </form>\n    </div>\n  );\n}\nconst mapStateToProps = store => ({\n  aDialog: store.authReducer.authDialog,\n  data: store.authReducer.data,\n});\nconst mapDispatchToProps = dispatch =>\nbindActionCreators({ setInvoices, setLoading, authDialog, setAuth,JWT_Decode }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FullScreenInvoiceDialog)\n"]},"metadata":{},"sourceType":"module"}