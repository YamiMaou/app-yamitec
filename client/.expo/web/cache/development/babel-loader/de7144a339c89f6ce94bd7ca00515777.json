{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport axios from 'axios';\nvar hostname = window === undefined ? \"yamitec.yamitec.com\" : window.location.hostname;\nvar apiHost = \"\";\nhostname = \"https://farmaciafacil.yamitec.com/api\";\napiHost = hostname;\napiHost = \"http://localhost:8000/api\";\nvar token = localStorage.getItem(\"token\");\nexport var Api = function Api() {\n  return axios.create({\n    baseURL: apiHost\n  }).get(\"/\");\n};\nexport var JWT_Decode = function JWT_Decode(token) {\n  var base64Url = token.split('.')[1];\n  var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(''));\n  return JSON.parse(jsonPayload);\n};\n\nfunction lower(obj) {\n  for (var prop in obj) {\n    console.log(prop);\n    if (obj[prop] !== \"type\") continue;\n    obj[prop.toLowerCase()] = obj[prop];\n  }\n\n  return obj;\n}\n\nexport var postAuth = function postAuth() {\n  var params,\n      data,\n      options,\n      response,\n      _args = arguments;\n  return _regeneratorRuntime.async(function postAuth$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          params = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n          data = Object.entries(params).map(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n                key = _ref2[0],\n                val = _ref2[1];\n\n            return key + \"=\" + encodeURIComponent(val);\n          }).join('&');\n          options = {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            data: params,\n            url: apiHost + '/login'\n          };\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(axios(options));\n\n        case 5:\n          response = _context.sent;\n          return _context.abrupt(\"return\", response);\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getApiContributors = function getApiContributors() {\n  var params,\n      data,\n      _args2 = arguments;\n  return _regeneratorRuntime.async(function getApiContributors$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          params = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : '';\n          data = Object.entries(params).map(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n                key = _ref4[0],\n                val = _ref4[1];\n\n            return key + \"=\" + encodeURIComponent(val);\n          }).join('&');\n          return _context2.abrupt(\"return\", fetch(apiHost + \"/contributors/?\" + data, {\n            method: 'GET',\n            data: data,\n            headers: new Headers({\n              'Content-Type': 'application/json',\n              'Authorization': 'Bearer ' + token\n            })\n          }).then(function (response) {\n            return response.json();\n          }));\n\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getAddressByViacep = function getAddressByViacep() {\n  var params,\n      _args3 = arguments;\n  return _regeneratorRuntime.async(function getAddressByViacep$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          params = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : '';\n          return _context3.abrupt(\"return\", fetch(\"https://viacep.com.br/ws/\" + params + \"/json/\", {\n            method: 'GET'\n          }).then(function (response) {\n            return response.json();\n          }));\n\n        case 2:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getQuery = function getQuery(query) {\n  var param;\n  return _regeneratorRuntime.async(function getQuery$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          param = query;\n          return _context4.abrupt(\"return\", fetch(\"http://localhost:3000/search?q=\" + param, {\n            method: 'GET',\n            headers: new Headers({\n              'Content-Type': 'application/json'\n            })\n          }).then(function (response) {\n            return response.json();\n          }));\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getWiki = function getWiki(query) {\n  var lang,\n      param,\n      _args5 = arguments;\n  return _regeneratorRuntime.async(function getWiki$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          lang = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : 'pt';\n          param = query;\n          return _context5.abrupt(\"return\", fetch(\"http://localhost:3000/wiki?q=\" + param + \"&lang=\" + lang, {\n            method: 'GET',\n            headers: new Headers({\n              'Content-Type': 'application/json'\n            })\n          }).then(function (response) {\n            return response.json();\n          }));\n\n        case 3:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getProducts = function getProducts() {\n  var id,\n      param,\n      _args6 = arguments;\n  return _regeneratorRuntime.async(function getProducts$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          id = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : 0;\n          param = id === 0 ? \"/list\" : \"/details/\" + id;\n          return _context6.abrupt(\"return\", fetch(apiHost + \"/produtos\" + param, {\n            method: 'GET',\n            mode: 'cors',\n            headers: new Headers({\n              'Content-Type': 'application/json',\n              'authorization': localStorage.getItem('token')\n            })\n          }).then(function (response) {\n            return response.json();\n          }));\n\n        case 3:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var postOldAuth = function postOldAuth() {\n  var params,\n      data,\n      options,\n      response,\n      _args7 = arguments;\n  return _regeneratorRuntime.async(function postOldAuth$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          params = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : {};\n          data = Object.entries(params).map(function (_ref5) {\n            var _ref6 = _slicedToArray(_ref5, 2),\n                key = _ref6[0],\n                val = _ref6[1];\n\n            return key + \"=\" + encodeURIComponent(val);\n          }).join('&');\n          options = {\n            method: 'POST',\n            headers: {\n              'content-type': 'application/x-www-form-urlencoded'\n            },\n            data: data,\n            url: apiHost + '/auth'\n          };\n          _context7.next = 5;\n          return _regeneratorRuntime.awrap(axios(options));\n\n        case 5:\n          response = _context7.sent;\n          return _context7.abrupt(\"return\", response);\n\n        case 7:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var getInvoices = function getInvoices() {\n  var id,\n      param,\n      _args8 = arguments;\n  return _regeneratorRuntime.async(function getInvoices$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          id = _args8.length > 0 && _args8[0] !== undefined ? _args8[0] : 0;\n          param = id === 0 ? \"/list\" : \"/details/\" + id;\n          return _context8.abrupt(\"return\", fetch(apiHost + \"/invoices\" + param, {\n            method: 'GET',\n            mode: 'cors',\n            headers: new Headers({\n              'Content-Type': 'application/json',\n              'authorization': localStorage.getItem('token')\n            })\n          }).then(function (response) {\n            return response.json();\n          }));\n\n        case 3:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var postCheckout = function postCheckout() {\n  var params,\n      options,\n      response,\n      _args9 = arguments;\n  return _regeneratorRuntime.async(function postCheckout$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          params = _args9.length > 0 && _args9[0] !== undefined ? _args9[0] : {};\n          options = {\n            method: 'POST',\n            headers: {\n              'content-type': 'application/x-www-form-urlencoded',\n              'authorization': localStorage.getItem('token')\n            },\n            url: apiHost + (\"/invoices/checkout/\" + params.id)\n          };\n          _context9.next = 4;\n          return _regeneratorRuntime.awrap(axios(options));\n\n        case 4:\n          response = _context9.sent;\n          return _context9.abrupt(\"return\", response);\n\n        case 6:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"sources":["C:/Users/Maou/Documents/Projetos/CLIENTES/RNF/client/src/providers/api/index.js"],"names":["axios","hostname","window","undefined","location","apiHost","token","localStorage","getItem","Api","create","baseURL","get","JWT_Decode","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","lower","obj","prop","console","log","toLowerCase","postAuth","params","data","Object","entries","key","val","encodeURIComponent","options","method","headers","url","response","getApiContributors","fetch","Headers","then","json","getAddressByViacep","getQuery","query","param","getWiki","lang","getProducts","id","mode","postOldAuth","getInvoices","postCheckout"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n\r\nlet hostname = window === undefined ? \"yamitec.yamitec.com\" : window.location.hostname;\r\nlet apiHost = \"\"\r\nhostname = \"https://farmaciafacil.yamitec.com/api\";\r\napiHost = hostname; //\"http://localhost:8000/api\"\r\napiHost = \"http://localhost:8000/api\"\r\n\r\nlet token =  localStorage.getItem(\"token\");\r\nexport const Api = () => {\r\n  return axios.create({\r\n    baseURL: apiHost,\r\n  }).get(\"/\");\r\n}\r\n\r\n/// COMON METHODS\r\n\r\nexport const JWT_Decode = (token) => {\r\n    var base64Url = token.split('.')[1];\r\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''));\r\n    return JSON.parse(jsonPayload);\r\n}\r\n/// Lower Keys from object\r\nfunction lower(obj) {\r\n  for (let prop in obj) {\r\n    console.log(prop)\r\n    if(obj[prop] !== \"type\")\r\n      continue;\r\n    obj[prop.toLowerCase()] = obj[prop];\r\n  }\r\n  return obj;\r\n}\r\n/// new API METHOD\r\n/// Auth API Methods\r\n\r\nexport const postAuth = async (params = {}) => {\r\n  const data = Object.entries(params)\r\n    .map(([key, val]) => `${key}=${encodeURIComponent(val)}`)\r\n    .join('&');\r\n  const options = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    data: params,\r\n    url: apiHost+'/login',\r\n  };\r\n  const response = await axios(options);  // wrap in async function\r\n  return response;\r\n};\r\n  /// list products\r\nexport const getApiContributors = async (params = '') => {\r\n  const data = Object.entries(params)\r\n    .map(([key, val]) => `${key}=${encodeURIComponent(val)}`)\r\n    .join('&');\r\n  return fetch(`${apiHost}/contributors/?${data}`, {\r\n   method: 'GET',\r\n   data,\r\n   //mode: 'cors', // pode ser cors ou basic(default)\r\n   headers: new Headers({\r\n     'Content-Type': 'application/json',\r\n     'Authorization' : 'Bearer '+token//eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwib3JnYW5pemF0aW9uX2lkIjoxLCJpYXQiOjE2MTIzMDIyNTYsImV4cCI6MTYxMjkwNzA1Nn0.mnNuXdmqF487x_K4zfOkhhrkdJ6rwLB61NaSPhGZyJo'//localStorage.getItem('token')\r\n   }),\r\n }).then((response) => {\r\n   return response.json();\r\n });\r\n}\r\n// get address ViaCep\r\nexport const getAddressByViacep = async (params = '') => {\r\n  return fetch(`https://viacep.com.br/ws/${params}/json/`, {\r\n   method: 'GET',\r\n   //mode: 'cors', // pode ser cors ou basic(default)\r\n   \r\n }).then((response) => {\r\n   return response.json();\r\n });\r\n}\r\n\r\n/// Search Engine Methods\r\n\r\nexport const getQuery = async (query) =>{\r\n let param = query;\r\n return fetch(\"http://localhost:3000/search?q=\"+param, {\r\n  method: 'GET',\r\n  //mode: 'cors', // pode ser cors ou basic(default)\r\n  headers: new Headers({\r\n    'Content-Type': 'application/json',\r\n    //'authorization' : localStorage.getItem('token')\r\n  }),\r\n}).then((response) => {\r\n  return response.json();\r\n});\r\n}\r\n/// Search Engine WIKI Methods\r\n\r\nexport const getWiki = async (query,lang = 'pt') =>{\r\n  let param = query;\r\n  return fetch(`http://localhost:3000/wiki?q=${param}&lang=${lang}`, {\r\n   method: 'GET',\r\n   //mode: 'cors', // pode ser cors ou basic(default)\r\n   headers: new Headers({\r\n     'Content-Type': 'application/json',\r\n     //'authorization' : localStorage.getItem('token')\r\n   }),\r\n }).then((response) => {\r\n   return response.json();\r\n });\r\n }\r\n/// Products API Methods\r\n\r\nexport const getProducts = async (id = 0) =>{\r\n  /*\r\n  let param = id === 0 ? \"/list\" : \"/details/\"+id;\r\n  return Api().get(\"/invoices\"+param,headerToken);\r\n  */\r\n let param = id === 0 ? \"/list\" : \"/details/\"+id;\r\n return fetch(apiHost+\"/produtos\"+param, {\r\n  method: 'GET',\r\n  mode: 'cors', // pode ser cors ou basic(default)\r\n  headers: new Headers({\r\n    'Content-Type': 'application/json',\r\n    'authorization' : localStorage.getItem('token')\r\n  }),\r\n}).then((response) => {\r\n  return response.json();\r\n});\r\n\r\n}\r\n/// Auth API Methods\r\n\r\nexport const postOldAuth = async (params = {}) => {\r\n  const data = Object.entries(params)\r\n    .map(([key, val]) => `${key}=${encodeURIComponent(val)}`)\r\n    .join('&');\r\n  const options = {\r\n    method: 'POST',\r\n    headers: { 'content-type': 'application/x-www-form-urlencoded' },\r\n    data,\r\n    url: apiHost+'/auth',\r\n  };\r\n\r\n  const response = await axios(options);  // wrap in async function\r\n  return response;\r\n}\r\n\r\n/// Invoices API Methods\r\n\r\nexport const getInvoices = async (id = 0) =>{\r\n  let param = id === 0 ? \"/list\" : \"/details/\"+id;\r\n  return fetch(apiHost+\"/invoices\"+param, {\r\n    method: 'GET',\r\n    mode: 'cors', // pode ser cors ou basic(default)\r\n    headers: new Headers({\r\n      'Content-Type': 'application/json',\r\n      'authorization' : localStorage.getItem('token')\r\n    }),\r\n  }).then((response) => {\r\n      return response.json();\r\n  });\r\n}\r\n\r\nexport const postCheckout = async (params = {}) => {\r\n  /*const data = Object.entries(params)\r\n    .map(([key, val]) => `${key}=${encodeURIComponent(val)}`)\r\n    .join('&');*/\r\n  const options = {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/x-www-form-urlencoded',\r\n      'authorization' : localStorage.getItem('token')\r\n   },\r\n    url: apiHost+`/invoices/checkout/${params.id}`,\r\n  };\r\n\r\n  const response = await axios(options);  // wrap in async function\r\n  return response;\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}